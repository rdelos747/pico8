pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
xmax=16
ymax=16
crsr={
	x=0,y=0,t=0
}
	

function rand(bot,top)
	return flr(rnd((top+1)-bot))+bot
end

function chance(n)
	return rand(0,100) < n
end

function _init()
	get_chunk(0,0)
end

function _draw()
	cls()
	rectfill(0,0,128,128,0)
	for j=0,ymax-1 do
	for i=0,xmax-1 do
		if lvl[j][i]==1 then
			spr(16,i*8,j*8)
		end
	end end
	
	draw_cursor()
	
end

function draw_cursor()
	spr(
		1,
		(crsr.x*8)-sin(crsr.t),
		(crsr.y*8)-sin(crsr.t),
		1,1,false,false
	)
	spr(
		1,
		(crsr.x*8)+sin(crsr.t),
		(crsr.y*8)-sin(crsr.t),
		1,1,false,true
	)
	spr(
		1,
		(crsr.x*8)+sin(crsr.t),
		(crsr.y*8)+sin(crsr.t),
		1,1,true,true
	)
	spr(
		1,
		(crsr.x*8)-sin(crsr.t),
		(crsr.y*8)+sin(crsr.t),
		1,1,true,false
	)
end

function _update()
	if(btnp(0))crsr.x-=1
	if(btnp(1))crsr.x+=1
	if(btnp(2))crsr.y-=1
	if(btnp(3))crsr.y+=1
	
	update_cursor()
end

function update_cursor()
	if(crsr.x<0)crsr.x=0
	if(crsr.x>=xmax)crsr.x=xmax-1
	if(crsr.y<0)crsr.y=0
	if(crsr.y>=ymax)crsr.y=ymax-1
	
	crsr.t+=0.1
	
end

function get_chunk(i,j)
	lvl={}
	for j=0,ymax-1 do
		lvl[j]={}
	for i=0,xmax-1 do
		lvl[j][i]=0
		if chance(10) then
			lvl[j][i]=1
		end
	end end
end
__gfx__
00000000888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88000088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
80800808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
80088008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
80088008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
80800808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88000088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
